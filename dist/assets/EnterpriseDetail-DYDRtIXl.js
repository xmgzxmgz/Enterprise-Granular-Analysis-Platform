import{d as z,p as i,X as E,x as V,c as _,b as D,w as r,r as d,o as l,a as s,e as c,t as o,g as w,G as M,F as x,y as h,i as m,_ as F}from"./index-H_6N781W.js";import{e as H}from"./api-CljNWEiS.js";const I={class:"wrap"},S={class:"title"},q={key:2,class:"detail-grid"},G={class:"grid"},L={class:"col"},O={class:"value"},R={class:"col"},X={class:"value"},$={class:"col"},j={class:"value"},A={class:"col"},J={class:"value"},K={class:"tags-inline"},P=z({__name:"EnterpriseDetail",setup(Q){const C=E(),f=i(String(C.query.name||"").trim()),t=i(null),k=i(!1),b=i(null),p=i(!1),n=i(!1);return V(async()=>{try{const u=await H(),a=((u==null?void 0:u.rows)||[]).map(e=>({name:e.name,category:e.category,region:e.region,risk:e.risk,origin:e.origin,isNew:e.isNew??e.origin==="model",manualTags:e.manualTags??e.tagsManual??e.tags??[],modelTags:e.modelTags??e.tagsModel??[]}));t.value=a.find(e=>e.name===f.value)||null,setTimeout(()=>{const e=b.value;e&&(p.value=e.scrollHeight>e.clientHeight+2)},0)}catch{k.value=!0}}),(u,a)=>{const e=d("el-alert"),T=d("el-empty"),g=d("el-tag"),N=d("el-button"),B=d("el-card");return l(),_("div",I,[D(B,null,{default:r(()=>[s("div",S,"企业信息："+o(f.value),1),k.value?(l(),c(e,{key:0,type:"error",title:"后端不可联通或错误","show-icon":"",closable:""})):t.value?(l(),_("div",q,[s("div",G,[s("div",L,[a[1]||(a[1]=s("div",{class:"label"},"企业名称",-1)),s("div",O,o(t.value.name),1)]),s("div",R,[a[2]||(a[2]=s("div",{class:"label"},"类别",-1)),s("div",X,o(t.value.category),1)]),s("div",$,[a[3]||(a[3]=s("div",{class:"label"},"地区",-1)),s("div",j,o(t.value.region),1)]),s("div",A,[a[4]||(a[4]=s("div",{class:"label"},"风险等级",-1)),s("div",J,o(t.value.risk),1)])]),s("div",K,[s("div",{class:M(["tags-clip",{expanded:n.value}]),ref_key:"tagClip",ref:b},[(l(!0),_(x,null,h(t.value.manualTags||[],(v,y)=>(l(),c(g,{key:t.value.name+"-m-"+y,size:"small",class:"tag-item tag-grey",effect:"plain",type:"info"},{default:r(()=>[m(o(v),1)]),_:2},1024))),128)),(l(!0),_(x,null,h(t.value.modelTags||[],(v,y)=>(l(),c(g,{key:t.value.name+"-b-"+y,size:"small",class:"tag-item tag-blue",type:"primary"},{default:r(()=>[m(o(v),1)]),_:2},1024))),128)),p.value&&!n.value?(l(),c(g,{key:0,class:"tag-item ellipsis-tag"},{default:r(()=>[...a[5]||(a[5]=[m("···",-1)])]),_:1})):w("",!0)],2),p.value||n.value?(l(),c(N,{key:0,class:"action-btn expand-btn",type:"primary",plain:"",size:"small",round:"",onClick:a[0]||(a[0]=v=>n.value=!n.value)},{default:r(()=>[m(o(n.value?"收起 ▴":"展开 ▾"),1)]),_:1})):w("",!0)])])):(l(),c(T,{key:1,description:"未找到对应企业"}))]),_:1})])}}}),Y=F(P,[["__scopeId","data-v-772a80cb"]]);export{Y as default};
